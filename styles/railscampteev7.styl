@import "reset"
@import "fonts"

$intro-duration = 10

time(percent)
  '%ss' % ($intro-duration * percent)

html, body
  height 100%

html
  background -webkit-gradient(linear, left top, left bottom, color-stop(0, #00162f), color-stop(1, #004763)) no-repeat

body
  overflow hidden

.scene
  position absolute
  top 0
  left 0
  background-image url('/images/sky1.png')
  background-position 1% 0
  width 200%
  height 200%
  -webkit-animation zoomie time(.6) 1 linear forwards
  z-index 1
  &:before
    background-image url('/images/sky2.png')
    background-position 1% 0
    height 100%
    width 100%
    content ' '
    display block
  &:after
    background-image url('/images/sky3.png')
    background-position 1.4% 0
    height 100%
    width 100%
    content ' '
    display block
    position absolute
    top 0
    left 0
  .scene-inner
    background-image url('/images/sky4.png')
    background-position 1.4% 0
    height 100%
    width 100%
    position absolute
    top 0
    left 0a

.ground
  width 100%
  height 150px
  background-color green
  position absolute
  bottom 0
  z-index 4
  
.words
  position absolute
  top 0
  left 0
  width 100%
  height 100%
  color white
  font-family $strangelove
  > *
    display block
    position absolute
    text-align center
    top 45%
    left 0
    height 100%
    width 100%
    z-index 4
  .sponsor
    opacity 0
    -webkit-animation us time(1) 1 linear forwards
    -webkit-transform rotate(4deg)
    font-size 110px
  .us
    opacity 0
    -webkit-animation sponsor time(1) 1 linear forwards
    -webkit-transform rotate(2deg)
    font-size 90px
    font-size 120px
  .title
    top 35%
    opacity 0
    -webkit-animation title time(1) 1 linear forwards
    font 220px $killerelephant
    em
      font normal 160px $strangelove
      margin-right -0.2em
      position relative
      top -0.28em
    
.comet-outer
  position absolute
  width 100%
  height 100%
  z-index 3
  -webkit-transform translateY(150%) translateX(-80%)
  -webkit-animation comet time(.015) time(.65) 1 ease-in
  .comet
    width 174px
    height 184px
    background transparent url('/images/comet.png') no-repeat
    position absolute
    bottom 100%
    left 80%
    z-index 3

@keyframes zoomie
  from
    -webkit-transform translateZ(0) translateX(-25%) translateY(-25%) scale(1) rotate(-10deg)
  to
    -webkit-transform translateZ(0) translateX(-25%) translateY(-25%) scale(.5) rotate(0)
    
@keyframes us
  0%
    opacity 0
  11%
    opacity 0
  12%
    opacity 1
  18%
    opacity 1
  20%
    opacity 0
  100%
    opacity 0

@keyframes sponsor
  0%
    opacity 0
  25%
    opacity 0
  26%
    opacity 1
  36%
    opacity 1
  38%
    opacity 0
  100%
    opacity 0

@keyframes title
  0%
    opacity 0
  55%
    opacity 0
  56%
    opacity 1
  100%
    opacity 1

@keyframes comet
  from
    -webkit-transform translateY(0) translateX(0)
  to
    -webkit-transform translateY(150%) translateX(-80%)